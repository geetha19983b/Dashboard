@*@using MvcCheckBoxList.Model
    @model DashBoard.Models.IncidentInterVM*@

<script type="text/javascript">

    $(document).ready(function () {
        $('#PeriodFilter').change(function () {

            if ($('#PeriodFilter').val() != "All") {

                $('#PeriodSubFilter').html(' ');

                $.getJSON('/DashBoard/PeriodSubFilter/' + $('#PeriodFilter').val(), function (data) {
                    var items = '<option>All</option>';
                    $.each(data, function (i, subfilter) {
                        items += "<option value='" + subfilter.Value + "'>" + subfilter.Text + "</option>";
                    });
                    $('#PeriodSubFilter').html(items);


                });
            }

        });
    });


</script>

<div class="panel panel-primary small" id="Search">
    <div class="panel-heading">Search Incident</div>
    <div class="panel-body">
        <div class="form-inline">

            <div class="form-group">
                <label for="IncidentNo" class="control-label col-xs-pull-1 col-xs-2">Incident#</label>
                <div class="col-xs-2">
                    @Html.TextBox("IncidentNo", ViewBag.IncidentNo as string, new { @class = "form-control input-sm", placeholder = "Enter Incident No" })
                </div>
            </div>


            @*<div class="form-group">
                <label for="TaskNo" class="control-label col-xs-pull-1 col-xs-2">Task#</label>
                <div class="col-xs-2">
                    @Html.TextBox("TaskNo", null, new { @class = "form-control input-sm", placeholder = "Enter Task No" })
                </div>
            </div>*@

            

            <div class="form-group">
                <div class="col-xs-2">
                    <button type="submit" id="SearchIncid" value="Search" class="btn btn-sm btn-success">
                        <span class="glyphicon glyphicon-search"></span>
                        Search
                    </button>

                </div>
            </div>



            @*<div class="form-group">
                    <label for="Metal" class="control-label col-xs-pull-2 col-xs-2">Metal</label>
                    <div class="col-xs-2">
                        @Html.ListBox("MetalList", new SelectList(ViewBag.MetalList, "Text", "Value", ViewBag.SelectedMetal), new { size = 3, htmlAttributes = new { @class = "form-control" } })

                    </div>
                </div>
                <div class="form-group">

                    <label for="Tower" class="control-label col-xs-pull-1 col-xs-2 col-md-pull-1 col-md-2">Tower</label>
                    <div class="col-xs-2">
                        @Html.ListBox("TowerList", new SelectList(ViewBag.TowerList, "Text", "Value", ViewBag.SelectedTowerList), new { size = 3, htmlAttributes = new { @class = "form-control" } })
                    </div>
                </div>*@

            @*<div class="form-group">
                <div class="col-xs-12">

                    @Html.CheckBoxListFor(model => model.PostedPriorities.PriorityIDs,
                        model => model.AvailablePriority,
                        model => model.Priority1,
                        model => model.Priority1,
                        model => model.SelectedPriority,
                        new HtmlListInfo(HtmlTag.vertical_columns, 2, new { @class = "from-control" }, TextLayout.RightToLeft))


                </div>
            </div>*@


        </div>
        <div class="row">

            <div class="col-md-12">
                <div class="panel panel-default">

                    <!-- /.panel-heading -->
                    <div class="panel-body" style="width: 100%">

                        Incident Table

                        <div id="IncidentTableContainer">
                        </div>


                    </div>
                </div>
            </div>

            @*<div class="col-md-12">
                <div class="classWithPad"></div>
            </div>*@
        </div>
        @*<div class="form-inline">
            <div class="form-group">
                

            </div>

            <div class="form-group">
                    <label for="Period" class="control-label col-xs-pull-1 col-xs-2">Period</label>

                    <div class="col-xs-4">
                        @Html.DropDownList("PeriodFilter", new SelectList(ViewBag.PeriodFilter, "Text", "Value", ViewBag.SelectedPeriodFilter), "All", new { @class = "form-control input-sm" })
                    </div>

                    <div class="col-xs-4">
                        <select data-placeholder="All" id="PeriodSubFilter" name="PeriodSubFilter" class="form-control input-sm"></select>

                    </div>

                </div>
                <div class="form-group">
                    <label for="State" class="control-label col-xs-pull-1 col-xs-2">State</label>

                    <div class="col-xs-4">
                        @Html.DropDownList("StateFilter", new SelectList(ViewBag.StateFilter, "Text", "Value", ViewBag.SelectedStateFilter), "All", new { @class = "form-control input-sm" })
                    </div>
                </div>

            <div class="form-group">
                <div class="col-xs-2">
                    <button type="submit" id="Search" value="Search" class="btn btn-sm btn-success">
                        <span class="glyphicon glyphicon-search"></span>
                        Search
                    </button>

                </div>

            </div>
        </div>*@

    </div>
</div>
